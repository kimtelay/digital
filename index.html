<html lang="fi">

<head>
    <meta charset='utf-8'>
    <title>Digital.fi</title>
    <style>
        #page-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        #answer {
            max-width: 50%;
            font-size: 60px;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.6.1/annyang.min.js"></script>
    <script>
        if (annyang) {
            var i = 0;
            var greeting = function (name) {
                const answers = ['on hieno nimi', 'on erikoinen nimi..', 'kuulostaa hienolta nimeltä', 'hauska tavata'];
                const randomGreeting = answers[Math.floor(Math.random() * answers.length)];
                document.getElementById('answer').textContent = name.charAt(0).toUpperCase() + name.slice(1) + ' ' + randomGreeting + '. Mitä kuuluu ' + name + '?';
                annyang.removeCommands('(nimeni) (on) :name');
            }

            var other = function (other) {
                // console.log('OTHER:', other);
                let answers = [];
                let answer = '';
                other = other.replace('kiitos', '');
                if (other.toLowerCase().includes('en ') || other.toLowerCase().includes('ei ')) {
                    answers = ['Koetahan piristyä, äläkä vastaa vain negatiivisesti', 'Ei kai asiat voi olla niin huonosti, että pitää vastata', 'Miksi sinusta tuntuu, että', 'Eikö tämä kuulosta jo vähän liian negatiiviselta: '];
                    if (i >= answers.length) i = 0;
                    answer = answers[i] + ' ' + other.toLowerCase() + '. Mutta kerrotko lisää?';
                }
                else if (other.toLowerCase().includes('mitä ')) {
                    if (i >= answers.length) i = 0;
                    answer = 'Kerro vain reippaasti mitä kuuluu...';
                }
                else {
                    answers = ['Kuulostaa kivalta, että kuuluu', 'Oletko iloinen siitä, että kuuluu', 'Niin se elämä menee. On mielenkiintoista kuulla, että', 'Kuulostaako hauskalta, että'];
                    if (i >= answers.length) i = 0;
                    answer = answers[i] + ' ' + other.toLowerCase() + '. Olisi kiva kuulla lisää!';
                }
                const answerContainer = document.getElementById('answer').textContent = answer;
                i++;
            }

            var commands = {
                'hei': function () { document.getElementById('answer').textContent = 'KUKKUU!' },

                // A named variable is a one word variable, that can fit anywhere in your command.
                // e.g. saying "calculate October stats" will call calculateStats('October');
                '(nimeni) (on) :name': greeting,

                // By defining a part of the following command as optional, annyang will respond to both: "say hello to my little friend" as well as "say hello friend"

                // capture anything after a splat (*) and pass it to the function.
                // e.g. saying "Show me Batman and Robin" is the same as calling showFlickr('Batman and Robin');
                '*other': other
            };

            // annyang.debug();
            annyang.addCommands(commands);
            annyang.setLanguage('fi');
            // annyang.addCallback('resultMatch', createAnswer);
            annyang.start();
        };
    </script>
</head>

<body>
    <div id="page-container">
        <div id="answer">Lausuisitko rohkeasti nimesi?</div>
    </div>
</body>

</html>